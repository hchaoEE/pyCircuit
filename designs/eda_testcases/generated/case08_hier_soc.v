`include "pyc_reg.v"
`include "pyc_fifo.v"

`include "pyc_byte_mem.v"

`include "pyc_sync_mem.v"
`include "pyc_sync_mem_dp.v"
`include "pyc_async_fifo.v"
`include "pyc_cdc_sync.v"

// Generated by pycc (pyCircuit)
// Module: _timer__p7b6483ec

module _timer__p7b6483ec (
  input clk,
  input rst,
  input [15:0] load_val,
  input load_en,
  input enable,
  output [15:0] count,
  output irq
);

wire at_zero__case08_hier_soc__L23; // pyc.name="at_zero__case08_hier_soc__L23"
wire [15:0] cnt__case08_hier_soc__L19; // pyc.name="cnt__case08_hier_soc__L19"
wire [15:0] cnt_q; // pyc.name="cnt_q"
wire [15:0] cnt_q__next; // pyc.name="cnt_q__next"
wire [15:0] cv__case08_hier_soc__L22; // pyc.name="cv__case08_hier_soc__L22"
wire enable__case08_hier_soc__L17; // pyc.name="enable__case08_hier_soc__L17"
wire irq_q; // pyc.name="irq_q"
wire irq_q__next; // pyc.name="irq_q__next"
wire irq_r__case08_hier_soc__L20; // pyc.name="irq_r__case08_hier_soc__L20"
wire load_en__case08_hier_soc__L16; // pyc.name="load_en__case08_hier_soc__L16"
wire [15:0] load_val__case08_hier_soc__L15; // pyc.name="load_val__case08_hier_soc__L15"
wire [15:0] nxt__case08_hier_soc__L24; // pyc.name="nxt__case08_hier_soc__L24"
wire [15:0] nxt__case08_hier_soc__L25; // pyc.name="nxt__case08_hier_soc__L25"
wire pyc_and_17; // op=pyc.and
wire pyc_and_24; // op=pyc.and
wire pyc_comb_10; // op=pyc.comb
wire pyc_comb_11; // op=pyc.comb
wire [15:0] pyc_comb_13; // op=pyc.comb
wire pyc_comb_21; // op=pyc.comb
wire pyc_comb_22; // op=pyc.comb
wire [15:0] pyc_comb_23; // op=pyc.comb
wire pyc_comb_5; // op=pyc.comb
wire [15:0] pyc_comb_6; // op=pyc.comb
wire pyc_comb_7; // op=pyc.comb
wire [15:0] pyc_comb_8; // op=pyc.comb
wire [15:0] pyc_comb_9; // op=pyc.comb
wire pyc_constant_1; // op=pyc.constant
wire [15:0] pyc_constant_2; // op=pyc.constant
wire pyc_constant_3; // op=pyc.constant
wire [15:0] pyc_constant_4; // op=pyc.constant
wire pyc_eq_15; // op=pyc.eq
wire [15:0] pyc_mux_19; // op=pyc.mux
wire [15:0] pyc_mux_20; // op=pyc.mux
wire pyc_not_16; // op=pyc.not
wire [15:0] pyc_reg_12; // op=pyc.reg
wire pyc_reg_14; // op=pyc.reg
wire [15:0] pyc_sub_18; // op=pyc.sub

// --- Combinational (netlist)
assign cnt_q = pyc_reg_12;
assign cnt__case08_hier_soc__L19 = cnt_q;
assign pyc_comb_13 = cnt__case08_hier_soc__L19;
assign pyc_constant_1 = 1'd1;
assign pyc_constant_2 = 16'd0;
assign pyc_constant_3 = 1'd0;
assign pyc_constant_4 = 16'd1;
assign load_val__case08_hier_soc__L15 = load_val;
assign load_en__case08_hier_soc__L16 = load_en;
assign enable__case08_hier_soc__L17 = enable;
assign pyc_comb_5 = pyc_constant_1;
assign pyc_comb_6 = pyc_constant_2;
assign pyc_comb_7 = pyc_constant_3;
assign pyc_comb_8 = pyc_constant_4;
assign pyc_comb_9 = load_val__case08_hier_soc__L15;
assign pyc_comb_10 = load_en__case08_hier_soc__L16;
assign pyc_comb_11 = enable__case08_hier_soc__L17;
assign irq_q = pyc_reg_14;
assign irq_r__case08_hier_soc__L20 = irq_q;
assign cv__case08_hier_soc__L22 = pyc_comb_13;
assign pyc_eq_15 = (cv__case08_hier_soc__L22 == pyc_comb_6);
assign at_zero__case08_hier_soc__L23 = pyc_eq_15;
assign pyc_not_16 = (~at_zero__case08_hier_soc__L23);
assign pyc_and_17 = (pyc_comb_11 & pyc_not_16);
assign pyc_sub_18 = (cv__case08_hier_soc__L22 - pyc_comb_8);
assign pyc_mux_19 = (pyc_and_17 ? pyc_sub_18 : cv__case08_hier_soc__L22);
assign nxt__case08_hier_soc__L24 = pyc_mux_19;
assign pyc_mux_20 = (pyc_comb_10 ? pyc_comb_9 : nxt__case08_hier_soc__L24);
assign nxt__case08_hier_soc__L25 = pyc_mux_20;
assign pyc_comb_21 = irq_r__case08_hier_soc__L20;
assign pyc_comb_22 = at_zero__case08_hier_soc__L23;
assign pyc_comb_23 = nxt__case08_hier_soc__L25;
assign cnt_q__next = pyc_comb_23;
assign pyc_and_24 = (pyc_comb_22 & pyc_comb_11);
assign irq_q__next = pyc_and_24;

// --- Sequential primitives
pyc_reg #(.WIDTH(16)) pyc_reg_12_inst (
  .clk(clk),
  .rst(rst),
  .en(pyc_comb_5),
  .d(cnt_q__next),
  .init(pyc_comb_6),
  .q(pyc_reg_12)
);
pyc_reg #(.WIDTH(1)) pyc_reg_14_inst (
  .clk(clk),
  .rst(rst),
  .en(pyc_comb_5),
  .d(irq_q__next),
  .init(pyc_comb_7),
  .q(pyc_reg_14)
);

assign count = pyc_comb_13;
assign irq = pyc_comb_21;

endmodule

// Generated by pycc (pyCircuit)
// Module: _gpio__p7b6483ec

module _gpio__p7b6483ec (
  input clk,
  input rst,
  input dir_wr,
  input [7:0] dir_data,
  input out_wr,
  input [7:0] out_data,
  input [7:0] pin_in,
  output [7:0] pin_out,
  output [7:0] pin_oe,
  output [7:0] pin_read
);

wire [7:0] dir_data__case08_hier_soc__L40; // pyc.name="dir_data__case08_hier_soc__L40"
wire [7:0] dir_q; // pyc.name="dir_q"
wire [7:0] dir_q__next; // pyc.name="dir_q__next"
wire dir_wr__case08_hier_soc__L39; // pyc.name="dir_wr__case08_hier_soc__L39"
wire [7:0] direction__case08_hier_soc__L45; // pyc.name="direction__case08_hier_soc__L45"
wire [7:0] out_data__case08_hier_soc__L42; // pyc.name="out_data__case08_hier_soc__L42"
wire [7:0] out_q; // pyc.name="out_q"
wire [7:0] out_q__next; // pyc.name="out_q__next"
wire [7:0] out_reg__case08_hier_soc__L46; // pyc.name="out_reg__case08_hier_soc__L46"
wire out_wr__case08_hier_soc__L41; // pyc.name="out_wr__case08_hier_soc__L41"
wire [7:0] pin_in__case08_hier_soc__L43; // pyc.name="pin_in__case08_hier_soc__L43"
wire [7:0] pin_out__case08_hier_soc__L51; // pyc.name="pin_out__case08_hier_soc__L51"
wire [7:0] pin_read__case08_hier_soc__L52; // pyc.name="pin_read__case08_hier_soc__L52"
wire [7:0] pyc_and_17; // op=pyc.and
wire [7:0] pyc_and_19; // op=pyc.and
wire [7:0] pyc_comb_11; // op=pyc.comb
wire [7:0] pyc_comb_14; // op=pyc.comb
wire [7:0] pyc_comb_15; // op=pyc.comb
wire [7:0] pyc_comb_21; // op=pyc.comb
wire [7:0] pyc_comb_22; // op=pyc.comb
wire pyc_comb_3; // op=pyc.comb
wire [7:0] pyc_comb_4; // op=pyc.comb
wire pyc_comb_5; // op=pyc.comb
wire [7:0] pyc_comb_6; // op=pyc.comb
wire pyc_comb_7; // op=pyc.comb
wire [7:0] pyc_comb_8; // op=pyc.comb
wire [7:0] pyc_comb_9; // op=pyc.comb
wire pyc_constant_1; // op=pyc.constant
wire [7:0] pyc_constant_2; // op=pyc.constant
wire [7:0] pyc_mux_13; // op=pyc.mux
wire [7:0] pyc_mux_16; // op=pyc.mux
wire [7:0] pyc_not_18; // op=pyc.not
wire [7:0] pyc_or_20; // op=pyc.or
wire [7:0] pyc_reg_10; // op=pyc.reg
wire [7:0] pyc_reg_12; // op=pyc.reg

// --- Combinational (netlist)
assign dir_q = pyc_reg_10;
assign direction__case08_hier_soc__L45 = dir_q;
assign pyc_comb_11 = direction__case08_hier_soc__L45;
assign pyc_constant_1 = 1'd1;
assign pyc_constant_2 = 8'd0;
assign dir_wr__case08_hier_soc__L39 = dir_wr;
assign dir_data__case08_hier_soc__L40 = dir_data;
assign out_wr__case08_hier_soc__L41 = out_wr;
assign out_data__case08_hier_soc__L42 = out_data;
assign pin_in__case08_hier_soc__L43 = pin_in;
assign pyc_comb_3 = pyc_constant_1;
assign pyc_comb_4 = pyc_constant_2;
assign pyc_comb_5 = dir_wr__case08_hier_soc__L39;
assign pyc_comb_6 = dir_data__case08_hier_soc__L40;
assign pyc_comb_7 = out_wr__case08_hier_soc__L41;
assign pyc_comb_8 = out_data__case08_hier_soc__L42;
assign pyc_comb_9 = pin_in__case08_hier_soc__L43;
assign out_q = pyc_reg_12;
assign out_reg__case08_hier_soc__L46 = out_q;
assign pyc_mux_13 = (pyc_comb_5 ? pyc_comb_6 : pyc_comb_11);
assign pyc_comb_14 = out_reg__case08_hier_soc__L46;
assign pyc_comb_15 = pyc_mux_13;
assign dir_q__next = pyc_comb_15;
assign pyc_and_17 = (pyc_comb_14 & pyc_comb_11);
assign pin_out__case08_hier_soc__L51 = pyc_and_17;
assign pyc_not_18 = (~pyc_comb_11);
assign pyc_and_19 = (pyc_comb_9 & pyc_not_18);
assign pyc_or_20 = (pyc_and_19 | pin_out__case08_hier_soc__L51);
assign pin_read__case08_hier_soc__L52 = pyc_or_20;
assign pyc_comb_21 = pin_out__case08_hier_soc__L51;
assign pyc_comb_22 = pin_read__case08_hier_soc__L52;
assign pyc_mux_16 = (pyc_comb_7 ? pyc_comb_8 : pyc_comb_14);
assign out_q__next = pyc_mux_16;

// --- Sequential primitives
pyc_reg #(.WIDTH(8)) pyc_reg_10_inst (
  .clk(clk),
  .rst(rst),
  .en(pyc_comb_3),
  .d(dir_q__next),
  .init(pyc_comb_4),
  .q(pyc_reg_10)
);
pyc_reg #(.WIDTH(8)) pyc_reg_12_inst (
  .clk(clk),
  .rst(rst),
  .en(pyc_comb_3),
  .d(out_q__next),
  .init(pyc_comb_4),
  .q(pyc_reg_12)
);

assign pin_out = pyc_comb_21;
assign pin_oe = pyc_comb_11;
assign pin_read = pyc_comb_22;

endmodule

// Generated by pycc (pyCircuit)
// Module: hier_soc

module hier_soc (
  input clk,
  input rst,
  input [3:0] addr,
  input [15:0] wdata,
  input wen,
  input ren,
  input [7:0] gpio_pin_in,
  output [7:0] pc,
  output [15:0] acc_val
);

wire [15:0] acc__case08_hier_soc__L70; // pyc.name="acc__case08_hier_soc__L70"
wire [15:0] acc_next__case08_hier_soc__L79; // pyc.name="acc_next__case08_hier_soc__L79"
wire [15:0] acc_next__case08_hier_soc__L80; // pyc.name="acc_next__case08_hier_soc__L80"
wire [15:0] acc_next__case08_hier_soc__L81; // pyc.name="acc_next__case08_hier_soc__L81"
wire [15:0] acc_next__case08_hier_soc__L82; // pyc.name="acc_next__case08_hier_soc__L82"
wire [15:0] acc_next__case08_hier_soc__L83; // pyc.name="acc_next__case08_hier_soc__L83"
wire [15:0] acc_next__case08_hier_soc__L84; // pyc.name="acc_next__case08_hier_soc__L84"
wire [15:0] acc_next__case08_hier_soc__L85; // pyc.name="acc_next__case08_hier_soc__L85"
wire [15:0] acc_next__case08_hier_soc__L86; // pyc.name="acc_next__case08_hier_soc__L86"
wire [15:0] acc_next__case08_hier_soc__L87; // pyc.name="acc_next__case08_hier_soc__L87"
wire [15:0] acc_next__case08_hier_soc__L88; // pyc.name="acc_next__case08_hier_soc__L88"
wire [15:0] acc_q; // pyc.name="acc_q"
wire [15:0] acc_q__next; // pyc.name="acc_q__next"
wire [3:0] addr__case08_hier_soc__L64; // pyc.name="addr__case08_hier_soc__L64"
wire is_core_addr__case08_hier_soc__L76; // pyc.name="is_core_addr__case08_hier_soc__L76"
wire [7:0] pc_q; // pyc.name="pc_q"
wire [7:0] pc_q__next; // pyc.name="pc_q__next"
wire [7:0] pc_reg__case08_hier_soc__L71; // pyc.name="pc_reg__case08_hier_soc__L71"
wire [7:0] pyc_add_23; // op=pyc.add
wire [15:0] pyc_add_32; // op=pyc.add
wire pyc_and_28; // op=pyc.and
wire [15:0] pyc_and_34; // op=pyc.and
wire [15:0] pyc_comb_10; // op=pyc.comb
wire [7:0] pyc_comb_11; // op=pyc.comb
wire [7:0] pyc_comb_12; // op=pyc.comb
wire [1:0] pyc_comb_13; // op=pyc.comb
wire [1:0] pyc_comb_14; // op=pyc.comb
wire [1:0] pyc_comb_15; // op=pyc.comb
wire [1:0] pyc_comb_16; // op=pyc.comb
wire [3:0] pyc_comb_17; // op=pyc.comb
wire [15:0] pyc_comb_18; // op=pyc.comb
wire pyc_comb_19; // op=pyc.comb
wire [15:0] pyc_comb_21; // op=pyc.comb
wire [7:0] pyc_comb_24; // op=pyc.comb
wire [7:0] pyc_comb_25; // op=pyc.comb
wire [15:0] pyc_comb_42; // op=pyc.comb
wire pyc_comb_9; // op=pyc.comb
wire pyc_constant_1; // op=pyc.constant
wire [15:0] pyc_constant_2; // op=pyc.constant
wire [7:0] pyc_constant_3; // op=pyc.constant
wire [7:0] pyc_constant_4; // op=pyc.constant
wire [1:0] pyc_constant_5; // op=pyc.constant
wire [1:0] pyc_constant_6; // op=pyc.constant
wire [1:0] pyc_constant_7; // op=pyc.constant
wire [1:0] pyc_constant_8; // op=pyc.constant
wire pyc_eq_27; // op=pyc.eq
wire pyc_eq_30; // op=pyc.eq
wire pyc_eq_31; // op=pyc.eq
wire pyc_eq_33; // op=pyc.eq
wire pyc_eq_35; // op=pyc.eq
wire [1:0] pyc_extract_26; // op=pyc.extract
wire [1:0] pyc_extract_29; // op=pyc.extract
wire [15:0] pyc_mux_37; // op=pyc.mux
wire [15:0] pyc_mux_38; // op=pyc.mux
wire [15:0] pyc_mux_39; // op=pyc.mux
wire [15:0] pyc_mux_40; // op=pyc.mux
wire [15:0] pyc_mux_41; // op=pyc.mux
wire [15:0] pyc_or_36; // op=pyc.or
wire [15:0] pyc_reg_20; // op=pyc.reg
wire [7:0] pyc_reg_22; // op=pyc.reg
wire [15:0] wdata__case08_hier_soc__L65; // pyc.name="wdata__case08_hier_soc__L65"
wire wen__case08_hier_soc__L66; // pyc.name="wen__case08_hier_soc__L66"

// --- Combinational (netlist)
assign acc_q = pyc_reg_20;
assign acc__case08_hier_soc__L70 = acc_q;
assign pyc_comb_21 = acc__case08_hier_soc__L70;
assign pyc_constant_1 = 1'd1;
assign pyc_constant_2 = 16'd0;
assign pyc_constant_3 = 8'd0;
assign pyc_constant_4 = 8'd1;
assign pyc_constant_5 = 2'd1;
assign pyc_constant_6 = 2'd2;
assign pyc_constant_7 = 2'd0;
assign pyc_constant_8 = 2'd3;
assign addr__case08_hier_soc__L64 = addr;
assign wdata__case08_hier_soc__L65 = wdata;
assign wen__case08_hier_soc__L66 = wen;
assign pyc_comb_9 = pyc_constant_1;
assign pyc_comb_10 = pyc_constant_2;
assign pyc_comb_11 = pyc_constant_3;
assign pyc_comb_12 = pyc_constant_4;
assign pyc_comb_13 = pyc_constant_5;
assign pyc_comb_14 = pyc_constant_6;
assign pyc_comb_15 = pyc_constant_7;
assign pyc_comb_16 = pyc_constant_8;
assign pyc_comb_17 = addr__case08_hier_soc__L64;
assign pyc_comb_18 = wdata__case08_hier_soc__L65;
assign pyc_comb_19 = wen__case08_hier_soc__L66;
assign pc_q = pyc_reg_22;
assign pc_reg__case08_hier_soc__L71 = pc_q;
assign pyc_add_23 = (pc_reg__case08_hier_soc__L71 + pyc_comb_12);
assign pyc_comb_24 = pc_reg__case08_hier_soc__L71;
assign pyc_comb_25 = pyc_add_23;
assign pc_q__next = pyc_comb_25;
assign pyc_extract_26 = pyc_comb_17[3:2];
assign pyc_eq_27 = (pyc_extract_26 == pyc_comb_15);
assign is_core_addr__case08_hier_soc__L76 = pyc_eq_27;
assign acc_next__case08_hier_soc__L79 = pyc_comb_21;
assign pyc_and_28 = (is_core_addr__case08_hier_soc__L76 & pyc_comb_19);
assign pyc_extract_29 = pyc_comb_17[1:0];
assign pyc_eq_30 = (pyc_extract_29 == pyc_comb_15);
assign acc_next__case08_hier_soc__L82 = pyc_comb_18;
assign pyc_eq_31 = (pyc_extract_29 == pyc_comb_13);
assign pyc_add_32 = (pyc_comb_21 + pyc_comb_18);
assign acc_next__case08_hier_soc__L84 = pyc_add_32;
assign pyc_eq_33 = (pyc_extract_29 == pyc_comb_14);
assign pyc_and_34 = (pyc_comb_21 & pyc_comb_18);
assign acc_next__case08_hier_soc__L86 = pyc_and_34;
assign pyc_eq_35 = (pyc_extract_29 == pyc_comb_16);
assign pyc_or_36 = (pyc_comb_21 | pyc_comb_18);
assign acc_next__case08_hier_soc__L88 = pyc_or_36;
assign pyc_mux_37 = (pyc_eq_35 ? acc_next__case08_hier_soc__L88 : acc_next__case08_hier_soc__L79);
assign acc_next__case08_hier_soc__L87 = pyc_mux_37;
assign pyc_mux_38 = (pyc_eq_33 ? acc_next__case08_hier_soc__L86 : acc_next__case08_hier_soc__L87);
assign acc_next__case08_hier_soc__L85 = pyc_mux_38;
assign pyc_mux_39 = (pyc_eq_31 ? acc_next__case08_hier_soc__L84 : acc_next__case08_hier_soc__L85);
assign acc_next__case08_hier_soc__L83 = pyc_mux_39;
assign pyc_mux_40 = (pyc_eq_30 ? acc_next__case08_hier_soc__L82 : acc_next__case08_hier_soc__L83);
assign acc_next__case08_hier_soc__L81 = pyc_mux_40;
assign pyc_mux_41 = (pyc_and_28 ? acc_next__case08_hier_soc__L81 : acc_next__case08_hier_soc__L79);
assign acc_next__case08_hier_soc__L80 = pyc_mux_41;
assign pyc_comb_42 = acc_next__case08_hier_soc__L80;
assign acc_q__next = pyc_comb_42;

// --- Sequential primitives
pyc_reg #(.WIDTH(16)) pyc_reg_20_inst (
  .clk(clk),
  .rst(rst),
  .en(pyc_comb_9),
  .d(acc_q__next),
  .init(pyc_comb_10),
  .q(pyc_reg_20)
);
pyc_reg #(.WIDTH(8)) pyc_reg_22_inst (
  .clk(clk),
  .rst(rst),
  .en(pyc_comb_9),
  .d(pc_q__next),
  .init(pyc_comb_11),
  .q(pyc_reg_22)
);

assign pc = pyc_comb_24;
assign acc_val = pyc_comb_21;

endmodule

