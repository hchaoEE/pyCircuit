`include "pyc_reg.v"
`include "pyc_fifo.v"

`include "pyc_byte_mem.v"

`include "pyc_sync_mem.v"
`include "pyc_sync_mem_dp.v"
`include "pyc_async_fifo.v"
`include "pyc_cdc_sync.v"

// Generated by pycc (pyCircuit)
// Module: multi_clock

module multi_clock (
  input clk_fast,
  input rst_fast,
  input clk_slow,
  input rst_slow,
  input [7:0] data_in,
  input capture,
  output [7:0] fast_count,
  output [7:0] captured,
  output sync_valid,
  output [15:0] slow_accumulator
);

wire [15:0] acc_val__case06_multi_clock__L47; // pyc.name="acc_val__case06_multi_clock__L47"
wire capt_flag; // pyc.name="capt_flag"
wire capt_flag__case06_multi_clock__L27; // pyc.name="capt_flag__case06_multi_clock__L27"
wire capt_flag__next; // pyc.name="capt_flag__next"
wire [7:0] capt_val; // pyc.name="capt_val"
wire [7:0] capt_val__case06_multi_clock__L24; // pyc.name="capt_val__case06_multi_clock__L24"
wire [7:0] capt_val__next; // pyc.name="capt_val__next"
wire capture__case06_multi_clock__L18; // pyc.name="capture__case06_multi_clock__L18"
wire [7:0] data_in__case06_multi_clock__L17; // pyc.name="data_in__case06_multi_clock__L17"
wire [7:0] fast_cnt; // pyc.name="fast_cnt"
wire [7:0] fast_cnt__case06_multi_clock__L21; // pyc.name="fast_cnt__case06_multi_clock__L21"
wire [7:0] fast_cnt__next; // pyc.name="fast_cnt__next"
wire [15:0] new_acc__case06_multi_clock__L48; // pyc.name="new_acc__case06_multi_clock__L48"
wire [7:0] pyc_add_14; // op=pyc.add
wire [15:0] pyc_add_41; // op=pyc.add
wire pyc_and_37; // op=pyc.and
wire [15:0] pyc_comb_10; // op=pyc.comb
wire [7:0] pyc_comb_11; // op=pyc.comb
wire pyc_comb_12; // op=pyc.comb
wire [7:0] pyc_comb_15; // op=pyc.comb
wire [7:0] pyc_comb_16; // op=pyc.comb
wire [7:0] pyc_comb_19; // op=pyc.comb
wire [7:0] pyc_comb_20; // op=pyc.comb
wire [7:0] pyc_comb_21; // op=pyc.comb
wire pyc_comb_24; // op=pyc.comb
wire pyc_comb_25; // op=pyc.comb
wire pyc_comb_27; // op=pyc.comb
wire pyc_comb_29; // op=pyc.comb
wire pyc_comb_30; // op=pyc.comb
wire [7:0] pyc_comb_32; // op=pyc.comb
wire [7:0] pyc_comb_34; // op=pyc.comb
wire pyc_comb_38; // op=pyc.comb
wire [15:0] pyc_comb_43; // op=pyc.comb
wire [15:0] pyc_comb_44; // op=pyc.comb
wire pyc_comb_6; // op=pyc.comb
wire [7:0] pyc_comb_7; // op=pyc.comb
wire [7:0] pyc_comb_8; // op=pyc.comb
wire pyc_comb_9; // op=pyc.comb
wire pyc_constant_1; // op=pyc.constant
wire [7:0] pyc_constant_2; // op=pyc.constant
wire [7:0] pyc_constant_3; // op=pyc.constant
wire pyc_constant_4; // op=pyc.constant
wire [15:0] pyc_constant_5; // op=pyc.constant
wire [7:0] pyc_mux_18; // op=pyc.mux
wire [15:0] pyc_mux_42; // op=pyc.mux
wire pyc_not_36; // op=pyc.not
wire pyc_or_23; // op=pyc.or
wire [7:0] pyc_reg_13; // op=pyc.reg
wire [7:0] pyc_reg_17; // op=pyc.reg
wire pyc_reg_22; // op=pyc.reg
wire pyc_reg_26; // op=pyc.reg
wire pyc_reg_28; // op=pyc.reg
wire [7:0] pyc_reg_31; // op=pyc.reg
wire [7:0] pyc_reg_33; // op=pyc.reg
wire pyc_reg_35; // op=pyc.reg
wire [15:0] pyc_reg_39; // op=pyc.reg
wire [15:0] pyc_zext_40; // op=pyc.zext
wire rising_edge__case06_multi_clock__L44; // pyc.name="rising_edge__case06_multi_clock__L44"
wire s2prev; // pyc.name="s2prev"
wire s2prev__next; // pyc.name="s2prev__next"
wire [7:0] sdata1; // pyc.name="sdata1"
wire [7:0] sdata1__next; // pyc.name="sdata1__next"
wire [7:0] sdata2; // pyc.name="sdata2"
wire [7:0] sdata2__next; // pyc.name="sdata2__next"
wire [15:0] slow_acc; // pyc.name="slow_acc"
wire [15:0] slow_acc__case06_multi_clock__L46; // pyc.name="slow_acc__case06_multi_clock__L46"
wire [15:0] slow_acc__next; // pyc.name="slow_acc__next"
wire sync1; // pyc.name="sync1"
wire sync1__case06_multi_clock__L31; // pyc.name="sync1__case06_multi_clock__L31"
wire sync1__next; // pyc.name="sync1__next"
wire sync2; // pyc.name="sync2"
wire sync2__case06_multi_clock__L32; // pyc.name="sync2__case06_multi_clock__L32"
wire sync2__next; // pyc.name="sync2__next"
wire sync2_prev__case06_multi_clock__L42; // pyc.name="sync2_prev__case06_multi_clock__L42"
wire [7:0] sync_data1__case06_multi_clock__L36; // pyc.name="sync_data1__case06_multi_clock__L36"
wire [7:0] sync_data2__case06_multi_clock__L37; // pyc.name="sync_data2__case06_multi_clock__L37"

// --- Combinational (netlist)
assign sync1 = pyc_reg_26;
assign sync1__case06_multi_clock__L31 = sync1;
assign sync2__next = sync1__case06_multi_clock__L31;
assign pyc_comb_27 = sync2__next;
assign sync2 = pyc_reg_28;
assign sync2__case06_multi_clock__L32 = sync2;
assign s2prev__next = sync2__case06_multi_clock__L32;
assign pyc_comb_29 = sync2__case06_multi_clock__L32;
assign pyc_comb_30 = s2prev__next;
assign sdata1 = pyc_reg_31;
assign sync_data1__case06_multi_clock__L36 = sdata1;
assign sdata2__next = sync_data1__case06_multi_clock__L36;
assign pyc_comb_32 = sdata2__next;
assign sdata2 = pyc_reg_33;
assign sync_data2__case06_multi_clock__L37 = sdata2;
assign pyc_comb_34 = sync_data2__case06_multi_clock__L37;
assign s2prev = pyc_reg_35;
assign sync2_prev__case06_multi_clock__L42 = s2prev;
assign pyc_not_36 = (~sync2_prev__case06_multi_clock__L42);
assign pyc_and_37 = (pyc_comb_29 & pyc_not_36);
assign rising_edge__case06_multi_clock__L44 = pyc_and_37;
assign pyc_comb_38 = rising_edge__case06_multi_clock__L44;
assign slow_acc = pyc_reg_39;
assign slow_acc__case06_multi_clock__L46 = slow_acc;
assign acc_val__case06_multi_clock__L47 = slow_acc__case06_multi_clock__L46;
assign pyc_zext_40 = {{8{1'b0}}, pyc_comb_34};
assign pyc_add_41 = (acc_val__case06_multi_clock__L47 + pyc_zext_40);
assign new_acc__case06_multi_clock__L48 = pyc_add_41;
assign pyc_mux_42 = (pyc_comb_38 ? new_acc__case06_multi_clock__L48 : slow_acc__case06_multi_clock__L46);
assign pyc_comb_43 = slow_acc__case06_multi_clock__L46;
assign pyc_comb_44 = pyc_mux_42;
assign pyc_constant_1 = 1'd1;
assign pyc_constant_2 = 8'd0;
assign pyc_constant_3 = 8'd1;
assign pyc_constant_4 = 1'd0;
assign pyc_constant_5 = 16'd0;
assign data_in__case06_multi_clock__L17 = data_in;
assign capture__case06_multi_clock__L18 = capture;
assign pyc_comb_6 = pyc_constant_1;
assign pyc_comb_7 = pyc_constant_2;
assign pyc_comb_8 = pyc_constant_3;
assign pyc_comb_9 = pyc_constant_4;
assign pyc_comb_10 = pyc_constant_5;
assign pyc_comb_11 = data_in__case06_multi_clock__L17;
assign pyc_comb_12 = capture__case06_multi_clock__L18;
assign fast_cnt = pyc_reg_13;
assign fast_cnt__case06_multi_clock__L21 = fast_cnt;
assign pyc_add_14 = (fast_cnt__case06_multi_clock__L21 + pyc_comb_8);
assign pyc_comb_15 = fast_cnt__case06_multi_clock__L21;
assign pyc_comb_16 = pyc_add_14;
assign fast_cnt__next = pyc_comb_16;
assign capt_val = pyc_reg_17;
assign capt_val__case06_multi_clock__L24 = capt_val;
assign sdata1__next = capt_val__case06_multi_clock__L24;
assign pyc_mux_18 = (pyc_comb_12 ? pyc_comb_11 : capt_val__case06_multi_clock__L24);
assign pyc_comb_19 = capt_val__case06_multi_clock__L24;
assign pyc_comb_20 = sdata1__next;
assign pyc_comb_21 = pyc_mux_18;
assign capt_val__next = pyc_comb_21;
assign capt_flag = pyc_reg_22;
assign capt_flag__case06_multi_clock__L27 = capt_flag;
assign sync1__next = capt_flag__case06_multi_clock__L27;
assign pyc_or_23 = (pyc_comb_12 | capt_flag__case06_multi_clock__L27);
assign pyc_comb_24 = sync1__next;
assign pyc_comb_25 = pyc_or_23;
assign capt_flag__next = pyc_comb_25;
assign slow_acc__next = pyc_comb_44;

// --- Sequential primitives
pyc_reg #(.WIDTH(8)) pyc_reg_13_inst (
  .clk(clk_fast),
  .rst(rst_fast),
  .en(pyc_comb_6),
  .d(fast_cnt__next),
  .init(pyc_comb_7),
  .q(pyc_reg_13)
);
pyc_reg #(.WIDTH(8)) pyc_reg_17_inst (
  .clk(clk_fast),
  .rst(rst_fast),
  .en(pyc_comb_6),
  .d(capt_val__next),
  .init(pyc_comb_7),
  .q(pyc_reg_17)
);
pyc_reg #(.WIDTH(1)) pyc_reg_22_inst (
  .clk(clk_fast),
  .rst(rst_fast),
  .en(pyc_comb_6),
  .d(capt_flag__next),
  .init(pyc_comb_9),
  .q(pyc_reg_22)
);
pyc_reg #(.WIDTH(1)) pyc_reg_26_inst (
  .clk(clk_slow),
  .rst(rst_slow),
  .en(pyc_comb_6),
  .d(pyc_comb_24),
  .init(pyc_comb_9),
  .q(pyc_reg_26)
);
pyc_reg #(.WIDTH(1)) pyc_reg_28_inst (
  .clk(clk_slow),
  .rst(rst_slow),
  .en(pyc_comb_6),
  .d(pyc_comb_27),
  .init(pyc_comb_9),
  .q(pyc_reg_28)
);
pyc_reg #(.WIDTH(8)) pyc_reg_31_inst (
  .clk(clk_slow),
  .rst(rst_slow),
  .en(pyc_comb_6),
  .d(pyc_comb_20),
  .init(pyc_comb_7),
  .q(pyc_reg_31)
);
pyc_reg #(.WIDTH(8)) pyc_reg_33_inst (
  .clk(clk_slow),
  .rst(rst_slow),
  .en(pyc_comb_6),
  .d(pyc_comb_32),
  .init(pyc_comb_7),
  .q(pyc_reg_33)
);
pyc_reg #(.WIDTH(1)) pyc_reg_35_inst (
  .clk(clk_slow),
  .rst(rst_slow),
  .en(pyc_comb_6),
  .d(pyc_comb_30),
  .init(pyc_comb_9),
  .q(pyc_reg_35)
);
pyc_reg #(.WIDTH(16)) pyc_reg_39_inst (
  .clk(clk_slow),
  .rst(rst_slow),
  .en(pyc_comb_6),
  .d(slow_acc__next),
  .init(pyc_comb_10),
  .q(pyc_reg_39)
);

assign fast_count = pyc_comb_15;
assign captured = pyc_comb_19;
assign sync_valid = pyc_comb_29;
assign slow_accumulator = pyc_comb_43;

endmodule

